<!DOCTYPE html>
<html>
<head lang="cn">
    <meta charset="UTF-8">
    <title>欢迎使用北京市评标专家库报表REST API</title>
    <link rel="stylesheet" type="text/css" href="public/javascript/jquery-easyui-1.4.1/themes/bootstrap/easyui.css">
    <link rel="stylesheet" type="text/css" href="public/javascript/jquery-easyui-1.4.1/themes/icon.css">
    <script type="text/javascript" src="public/javascript/jquery-easyui-1.4.1/jquery.min.js"></script>
    <script type="text/javascript" src="public/javascript/jquery-easyui-1.4.1/jquery.easyui.min.js"></script>
    <script>
        //window.Q=require('q');
    </script>
</head>
<body>

<h2> 欢迎使用北京市评标专家库报表REST API服务！</h2>

<div style="margin:20px 0;"></div>
<div class="easyui-layout" style="width:100%;height:400px;">
    <div id="appMenmu" data-options="region:'west'" title="应用管理" style="width:20%;padding:10px">
        <ul id="menmus"></ul>
    </div>
    <div data-options="region:'center'" title="服务管理">
        <div style="margin:20px 0 10px 0;"></div>
        <div id="content">
        </div>
    </div>
</div>


<script type="text/javascript" src="Server.js">
</script>
<script type="text/javascript">
    var isStartApp = false;
    var gui = require('nw.gui'); //or global.window.nwDispatcher.requireNwGui() (see https://github.com/rogerwang/node-webkit/issues/707)
    var app=gui.App;
    alert(app.dataPath);
    // Get the current window
    var win = gui.Window.get();

    // Listen to the minimize event
    win.on('minimize', function() {
        alert('Window is minimized');
    });

    $(function () {
        $("#menmus").tree({
            url: "./view/menmu.json",
            method: 'get',
            animate: true,
            lines: true,
            onClick: function (node) {//单击事件
                $("#content").panel({
                    href:"./view/"+node.attributes.url,
                    onLoad:function(){
                        //alert(node.id);
                    }
                })

            }
        });

        $("#content").panel({
            href:'./view/sm.html',
            onLoad:function(){
                httpServer.start(function(){
                    $.messager.show({
                        title:'友情提示',
                        msg:'REST API启动成功.',
                        showType:'show'
                    });
                });
            }
        });
    });
</script>

</body>

</html>